# Private Packagist Api Client

## Requirements

* PHP >= 5.6
* [Guzzle](https://github.com/guzzle/guzzle) library,

## Install

Via Composer:

```bash
$ composer require private-packagist/api-client php-http/guzzle6-adapter
```

Why do you need to require `php-http/guzzle6-adapter`? We are decoupled from any HTTP messaging client with help by [HTTPlug](http://httplug.io/), so you can pick an HTTP client of your choice, guzzle is merely a recommendation.

## Basic usage of `private-packagist/api-client` client

```php
<?php

// This file is generated by Composer
require_once __DIR__ . '/vendor/autoload.php';

$client = new \PrivatePackagist\ApiClient\Client();
$client->authenticate('api-token', 'api-secret');
$packages = $client->packages()->all();
```

From `$client` object, you can access the full Private Packagist Api.

## Documentation

#### Customer

##### List an organization's customers
```php
$customers = $client->customers()->all();
```
Returns an array of customers.


##### Create a customer
```php
$customer = $client->customers()->create('New customer name');
```
Returns the customer.

##### Delete a customer
```php
$customerId = 42;
$client->customers()->remove($customerId);
```

##### List a customer's packages
```php
$packages = $client->customers()->listPackages();
```
Returns an array of customer packages.

##### Grant a customer access to a package
```php
$customerId = 42;
$packages = [
    ['id' => 12],
];
$packages = $client->customers()->addPackages($customerId, $packages);
```
Returns an array of added customer packages.

##### Revoke access to a package from a customer
```php
$customerId = 42;
$packageId = 12;
$client->customers()->removePackage($customerId, $packageId);
```

#### Package

##### List an organization's packages
```php
$packages = $client->packages()->all();
```
Returns an array of packages.

## License

`private-packagist/api-client` is licensed under the MIT License
